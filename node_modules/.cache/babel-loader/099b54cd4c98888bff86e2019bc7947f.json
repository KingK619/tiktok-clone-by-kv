{"ast":null,"code":"var _jsxFileName = \"D:\\\\P-STUDY\\\\tiktok-clone-by-kv\\\\src\\\\Video.js\";\nimport React, { useRef, useState, useEffect } from 'react';\nimport { Waypoint } from 'react-waypoint';\nimport './Video.css';\nimport VideoFooter from './VideoFooter';\nimport VideoSidebar from './VideoSidebar';\n\nfunction Video({\n  url,\n  description\n}) {\n  const [playing, setPlaying] = useState(false);\n  const videoRef = useRef(null); // useEffect(() => {\n  //     window.addEventListener('scroll', debounce(handleScroll, 200))\n  //     return () => {\n  //       window.removeEventListener('scroll', handleScroll);\n  //     };\n  //   } }\n\n  const onVideoPress = () => {\n    if (playing) {\n      videoRef.current.pause();\n      setPlaying(false);\n    } else {\n      videoRef.current.play();\n      setPlaying(true);\n    }\n  };\n\n  const handleEnterViewport = () => {\n    videoRef.current.play();\n    setPlaying(true);\n  };\n\n  const handleExitViewport = () => {\n    if (playing) {\n      videoRef.current.pause();\n      setPlaying(false);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Waypoint, {\n    onEnter: handleEnterViewport,\n    onLeave: handleExitViewport,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"video\", {\n    className: \"video__player\",\n    loop: true,\n    onClick: onVideoPress,\n    ref: videoRef,\n    src: url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(VideoFooter, {\n    description: description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(VideoSidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  })));\n}\n\nexport default Video;","map":{"version":3,"sources":["D:/P-STUDY/tiktok-clone-by-kv/src/Video.js"],"names":["React","useRef","useState","useEffect","Waypoint","VideoFooter","VideoSidebar","Video","url","description","playing","setPlaying","videoRef","onVideoPress","current","pause","play","handleEnterViewport","handleExitViewport"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,EAAiCC,SAAjC,QAAkD,OAAlD;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,OAAO,aAAP;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;AAEA,SAASC,KAAT,CAAe;AAACC,EAAAA,GAAD;AAAKC,EAAAA;AAAL,CAAf,EACA;AACI,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAMU,QAAQ,GAAGX,MAAM,CAAC,IAAD,CAAvB,CAFJ,CAII;AACA;AAEA;AACA;AACA;AACA;;AAEA,QAAMY,YAAY,GAAG,MAAM;AACvB,QAAIH,OAAJ,EAAa;AACTE,MAAAA,QAAQ,CAACE,OAAT,CAAiBC,KAAjB;AACAJ,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAHD,MAGO;AACHC,MAAAA,QAAQ,CAACE,OAAT,CAAiBE,IAAjB;AACAL,MAAAA,UAAU,CAAC,IAAD,CAAV;AACH;AACJ,GARD;;AAUA,QAAMM,mBAAmB,GAAG,MAAM;AAC9BL,IAAAA,QAAQ,CAACE,OAAT,CAAiBE,IAAjB;AACAL,IAAAA,UAAU,CAAC,IAAD,CAAV;AACD,GAHH;;AAKA,QAAMO,kBAAkB,GAAI,MAAM;AAC9B,QAAIR,OAAJ,EAAa;AACTE,MAAAA,QAAQ,CAACE,OAAT,CAAiBC,KAAjB;AACAJ,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACF,GALH;;AAOA,sBACI,oBAAC,QAAD;AAAU,IAAA,OAAO,EAAEM,mBAAnB;AAAwC,IAAA,OAAO,EAAEC,kBAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AACI,IAAA,SAAS,EAAC,eADd;AAEI,IAAA,IAAI,MAFR;AAGI,IAAA,OAAO,EAAEL,YAHb;AAII,IAAA,GAAG,EAAED,QAJT;AAKI,IAAA,GAAG,EAAEJ,GALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAQI,oBAAC,WAAD;AAAa,IAAA,WAAW,EAAEC,WAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARJ,eASI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,CADA,CADJ;AAeH;;AACD,eAAeF,KAAf","sourcesContent":["import React, { useRef, useState,useEffect } from 'react';\r\nimport { Waypoint } from 'react-waypoint';\r\nimport './Video.css';\r\nimport VideoFooter from './VideoFooter';\r\nimport VideoSidebar from './VideoSidebar';\r\n\r\nfunction Video({url,description}) \r\n{\r\n    const [playing, setPlaying] = useState(false);\r\n    const videoRef = useRef(null);\r\n\r\n    // useEffect(() => {\r\n    //     window.addEventListener('scroll', debounce(handleScroll, 200))\r\n    \r\n    //     return () => {\r\n    //       window.removeEventListener('scroll', handleScroll);\r\n    //     };\r\n    //   } }\r\n\r\n    const onVideoPress = () => {\r\n        if (playing) {\r\n            videoRef.current.pause();\r\n            setPlaying(false);\r\n        } else {\r\n            videoRef.current.play();\r\n            setPlaying(true);\r\n        }\r\n    };\r\n\r\n    const handleEnterViewport = () => {\r\n        videoRef.current.play();\r\n        setPlaying(true);\r\n      }\r\n\r\n    const handleExitViewport  = () => {\r\n        if (playing) {\r\n            videoRef.current.pause();\r\n            setPlaying(false);\r\n        }\r\n      }\r\n\r\n    return (\r\n        <Waypoint onEnter={handleEnterViewport} onLeave={handleExitViewport}>\r\n        <div className=\"video\">\r\n            <video\r\n                className=\"video__player\"\r\n                loop\r\n                onClick={onVideoPress}\r\n                ref={videoRef}\r\n                src={url}>\r\n            </video>\r\n            <VideoFooter description={description} />\r\n            <VideoSidebar />\r\n        </div>\r\n        </Waypoint>\r\n    )\r\n}\r\nexport default Video\r\n"]},"metadata":{},"sourceType":"module"}